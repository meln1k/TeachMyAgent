<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>TeachMyAgent.students.openai_baselines.common.vec_env.vec_env API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
<link rel="icon" href="https://github.com/flowersteam/TeachMyAgent/blob/gh-pages/images/favicon-96x96.png?raw=true" />
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>TeachMyAgent.students.openai_baselines.common.vec_env.vec_env</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import contextlib
import os
from abc import ABC, abstractmethod

from TeachMyAgent.students.openai_baselines.common.tile_images import tile_images

class AlreadySteppingError(Exception):
    &#34;&#34;&#34;
    Raised when an asynchronous step is running while
    step_async() is called again.
    &#34;&#34;&#34;

    def __init__(self):
        msg = &#39;already running an async step&#39;
        Exception.__init__(self, msg)


class NotSteppingError(Exception):
    &#34;&#34;&#34;
    Raised when an asynchronous step is not running but
    step_wait() is called.
    &#34;&#34;&#34;

    def __init__(self):
        msg = &#39;not running an async step&#39;
        Exception.__init__(self, msg)


class VecEnv(ABC):
    &#34;&#34;&#34;
    An abstract asynchronous, vectorized environment.
    Used to batch data from multiple copies of an environment, so that
    each observation becomes an batch of observations, and expected action is a batch of actions to
    be applied per-environment.
    &#34;&#34;&#34;
    closed = False
    viewer = None

    metadata = {
        &#39;render.modes&#39;: [&#39;human&#39;, &#39;rgb_array&#39;]
    }

    def __init__(self, num_envs, observation_space, action_space):
        self.num_envs = num_envs
        self.observation_space = observation_space
        self.action_space = action_space

    @abstractmethod
    def reset(self):
        &#34;&#34;&#34;
        Reset all the environments and return an array of
        observations, or a dict of observation arrays.

        If step_async is still doing work, that work will
        be cancelled and step_wait() should not be called
        until step_async() is invoked again.
        &#34;&#34;&#34;
        pass

    @abstractmethod
    def step_async(self, actions):
        &#34;&#34;&#34;
        Tell all the environments to start taking a step
        with the given actions.
        Call step_wait() to get the results of the step.

        You should not call this if a step_async run is
        already pending.
        &#34;&#34;&#34;
        pass

    @abstractmethod
    def step_wait(self):
        &#34;&#34;&#34;
        Wait for the step taken with step_async().

        Returns (obs, rews, dones, infos):
         - obs: an array of observations, or a dict of
                arrays of observations.
         - rews: an array of rewards
         - dones: an array of &#34;episode done&#34; booleans
         - infos: a sequence of info objects
        &#34;&#34;&#34;
        pass

    def close_extras(self):
        &#34;&#34;&#34;
        Clean up the  extra resources, beyond what&#39;s in this base class.
        Only runs when not self.closed.
        &#34;&#34;&#34;
        pass

    def close(self):
        if self.closed:
            return
        if self.viewer is not None:
            self.viewer.close()
        self.close_extras()
        self.closed = True

    def step(self, actions):
        &#34;&#34;&#34;
        Step the environments synchronously.

        This is available for backwards compatibility.
        &#34;&#34;&#34;
        self.step_async(actions)
        return self.step_wait()

    def render(self, mode=&#39;human&#39;):
        imgs = self.get_images()
        bigimg = tile_images(imgs)
        if mode == &#39;human&#39;:
            self.get_viewer().imshow(bigimg)
            return self.get_viewer().isopen
        elif mode == &#39;rgb_array&#39;:
            return bigimg
        else:
            raise NotImplementedError

    def get_images(self):
        &#34;&#34;&#34;
        Return RGB images from each environment
        &#34;&#34;&#34;
        raise NotImplementedError

    @property
    def unwrapped(self):
        if isinstance(self, VecEnvWrapper):
            return self.venv.unwrapped
        else:
            return self

    def get_viewer(self):
        if self.viewer is None:
            from gym.envs.classic_control import rendering
            self.viewer = rendering.SimpleImageViewer()
        return self.viewer

class VecEnvWrapper(VecEnv):
    &#34;&#34;&#34;
    An environment wrapper that applies to an entire batch
    of environments at once.
    &#34;&#34;&#34;

    def __init__(self, venv, observation_space=None, action_space=None):
        self.venv = venv
        super().__init__(num_envs=venv.num_envs,
                        observation_space=observation_space or venv.observation_space,
                        action_space=action_space or venv.action_space)

    def step_async(self, actions):
        self.venv.step_async(actions)

    @abstractmethod
    def reset(self):
        pass

    @abstractmethod
    def step_wait(self):
        pass

    def close(self):
        return self.venv.close()

    def render(self, mode=&#39;human&#39;):
        return self.venv.render(mode=mode)

    def get_images(self):
        return self.venv.get_images()

    def __getattr__(self, name):
        if name.startswith(&#39;_&#39;):
            raise AttributeError(&#34;attempted to get missing private attribute &#39;{}&#39;&#34;.format(name))
        return getattr(self.venv, name)

class VecEnvObservationWrapper(VecEnvWrapper):
    @abstractmethod
    def process(self, obs):
        pass

    def reset(self):
        obs = self.venv.reset()
        return self.process(obs)

    def step_wait(self):
        obs, rews, dones, infos = self.venv.step_wait()
        return self.process(obs), rews, dones, infos

class CloudpickleWrapper(object):
    &#34;&#34;&#34;
    Uses cloudpickle to serialize contents (otherwise multiprocessing tries to use pickle)
    &#34;&#34;&#34;

    def __init__(self, x):
        self.x = x

    def __getstate__(self):
        import cloudpickle
        return cloudpickle.dumps(self.x)

    def __setstate__(self, ob):
        import pickle
        self.x = pickle.loads(ob)


@contextlib.contextmanager
def clear_mpi_env_vars():
    &#34;&#34;&#34;
    from mpi4py import MPI will call MPI_Init by default.  If the child process has MPI environment variables, MPI will think that the child process is an MPI process just like the parent and do bad things such as hang.
    This context manager is a hacky way to clear those environment variables temporarily such as when we are starting multiprocessing
    Processes.
    &#34;&#34;&#34;
    removed_environment = {}
    for k, v in list(os.environ.items()):
        for prefix in [&#39;OMPI_&#39;, &#39;PMI_&#39;]:
            if k.startswith(prefix):
                removed_environment[k] = v
                del os.environ[k]
    try:
        yield
    finally:
        os.environ.update(removed_environment)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.clear_mpi_env_vars"><code class="name flex">
<span>def <span class="ident">clear_mpi_env_vars</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>from mpi4py import MPI will call MPI_Init by default.
If the child process has MPI environment variables, MPI will think that the child process is an MPI process just like the parent and do bad things such as hang.
This context manager is a hacky way to clear those environment variables temporarily such as when we are starting multiprocessing
Processes.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@contextlib.contextmanager
def clear_mpi_env_vars():
    &#34;&#34;&#34;
    from mpi4py import MPI will call MPI_Init by default.  If the child process has MPI environment variables, MPI will think that the child process is an MPI process just like the parent and do bad things such as hang.
    This context manager is a hacky way to clear those environment variables temporarily such as when we are starting multiprocessing
    Processes.
    &#34;&#34;&#34;
    removed_environment = {}
    for k, v in list(os.environ.items()):
        for prefix in [&#39;OMPI_&#39;, &#39;PMI_&#39;]:
            if k.startswith(prefix):
                removed_environment[k] = v
                del os.environ[k]
    try:
        yield
    finally:
        os.environ.update(removed_environment)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.AlreadySteppingError"><code class="flex name class">
<span>class <span class="ident">AlreadySteppingError</span></span>
</code></dt>
<dd>
<div class="desc"><p>Raised when an asynchronous step is running while
step_async() is called again.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlreadySteppingError(Exception):
    &#34;&#34;&#34;
    Raised when an asynchronous step is running while
    step_async() is called again.
    &#34;&#34;&#34;

    def __init__(self):
        msg = &#39;already running an async step&#39;
        Exception.__init__(self, msg)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.CloudpickleWrapper"><code class="flex name class">
<span>class <span class="ident">CloudpickleWrapper</span></span>
<span>(</span><span>x)</span>
</code></dt>
<dd>
<div class="desc"><p>Uses cloudpickle to serialize contents (otherwise multiprocessing tries to use pickle)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CloudpickleWrapper(object):
    &#34;&#34;&#34;
    Uses cloudpickle to serialize contents (otherwise multiprocessing tries to use pickle)
    &#34;&#34;&#34;

    def __init__(self, x):
        self.x = x

    def __getstate__(self):
        import cloudpickle
        return cloudpickle.dumps(self.x)

    def __setstate__(self, ob):
        import pickle
        self.x = pickle.loads(ob)</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.NotSteppingError"><code class="flex name class">
<span>class <span class="ident">NotSteppingError</span></span>
</code></dt>
<dd>
<div class="desc"><p>Raised when an asynchronous step is not running but
step_wait() is called.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NotSteppingError(Exception):
    &#34;&#34;&#34;
    Raised when an asynchronous step is not running but
    step_wait() is called.
    &#34;&#34;&#34;

    def __init__(self):
        msg = &#39;not running an async step&#39;
        Exception.__init__(self, msg)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv"><code class="flex name class">
<span>class <span class="ident">VecEnv</span></span>
<span>(</span><span>num_envs, observation_space, action_space)</span>
</code></dt>
<dd>
<div class="desc"><p>An abstract asynchronous, vectorized environment.
Used to batch data from multiple copies of an environment, so that
each observation becomes an batch of observations, and expected action is a batch of actions to
be applied per-environment.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class VecEnv(ABC):
    &#34;&#34;&#34;
    An abstract asynchronous, vectorized environment.
    Used to batch data from multiple copies of an environment, so that
    each observation becomes an batch of observations, and expected action is a batch of actions to
    be applied per-environment.
    &#34;&#34;&#34;
    closed = False
    viewer = None

    metadata = {
        &#39;render.modes&#39;: [&#39;human&#39;, &#39;rgb_array&#39;]
    }

    def __init__(self, num_envs, observation_space, action_space):
        self.num_envs = num_envs
        self.observation_space = observation_space
        self.action_space = action_space

    @abstractmethod
    def reset(self):
        &#34;&#34;&#34;
        Reset all the environments and return an array of
        observations, or a dict of observation arrays.

        If step_async is still doing work, that work will
        be cancelled and step_wait() should not be called
        until step_async() is invoked again.
        &#34;&#34;&#34;
        pass

    @abstractmethod
    def step_async(self, actions):
        &#34;&#34;&#34;
        Tell all the environments to start taking a step
        with the given actions.
        Call step_wait() to get the results of the step.

        You should not call this if a step_async run is
        already pending.
        &#34;&#34;&#34;
        pass

    @abstractmethod
    def step_wait(self):
        &#34;&#34;&#34;
        Wait for the step taken with step_async().

        Returns (obs, rews, dones, infos):
         - obs: an array of observations, or a dict of
                arrays of observations.
         - rews: an array of rewards
         - dones: an array of &#34;episode done&#34; booleans
         - infos: a sequence of info objects
        &#34;&#34;&#34;
        pass

    def close_extras(self):
        &#34;&#34;&#34;
        Clean up the  extra resources, beyond what&#39;s in this base class.
        Only runs when not self.closed.
        &#34;&#34;&#34;
        pass

    def close(self):
        if self.closed:
            return
        if self.viewer is not None:
            self.viewer.close()
        self.close_extras()
        self.closed = True

    def step(self, actions):
        &#34;&#34;&#34;
        Step the environments synchronously.

        This is available for backwards compatibility.
        &#34;&#34;&#34;
        self.step_async(actions)
        return self.step_wait()

    def render(self, mode=&#39;human&#39;):
        imgs = self.get_images()
        bigimg = tile_images(imgs)
        if mode == &#39;human&#39;:
            self.get_viewer().imshow(bigimg)
            return self.get_viewer().isopen
        elif mode == &#39;rgb_array&#39;:
            return bigimg
        else:
            raise NotImplementedError

    def get_images(self):
        &#34;&#34;&#34;
        Return RGB images from each environment
        &#34;&#34;&#34;
        raise NotImplementedError

    @property
    def unwrapped(self):
        if isinstance(self, VecEnvWrapper):
            return self.venv.unwrapped
        else:
            return self

    def get_viewer(self):
        if self.viewer is None:
            from gym.envs.classic_control import rendering
            self.viewer = rendering.SimpleImageViewer()
        return self.viewer</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.dummy_vec_env.DummyVecEnv" href="dummy_vec_env.html#TeachMyAgent.students.openai_baselines.common.vec_env.dummy_vec_env.DummyVecEnv">DummyVecEnv</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.shmem_vec_env.ShmemVecEnv" href="shmem_vec_env.html#TeachMyAgent.students.openai_baselines.common.vec_env.shmem_vec_env.ShmemVecEnv">ShmemVecEnv</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.subproc_vec_env.SubprocVecEnv" href="subproc_vec_env.html#TeachMyAgent.students.openai_baselines.common.vec_env.subproc_vec_env.SubprocVecEnv">SubprocVecEnv</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper">VecEnvWrapper</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.closed"><code class="name">var <span class="ident">closed</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.metadata"><code class="name">var <span class="ident">metadata</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.viewer"><code class="name">var <span class="ident">viewer</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.unwrapped"><code class="name">var <span class="ident">unwrapped</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def unwrapped(self):
    if isinstance(self, VecEnvWrapper):
        return self.venv.unwrapped
    else:
        return self</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close"><code class="name flex">
<span>def <span class="ident">close</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def close(self):
    if self.closed:
        return
    if self.viewer is not None:
        self.viewer.close()
    self.close_extras()
    self.closed = True</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close_extras"><code class="name flex">
<span>def <span class="ident">close_extras</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Clean up the
extra resources, beyond what's in this base class.
Only runs when not self.closed.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def close_extras(self):
    &#34;&#34;&#34;
    Clean up the  extra resources, beyond what&#39;s in this base class.
    Only runs when not self.closed.
    &#34;&#34;&#34;
    pass</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_images"><code class="name flex">
<span>def <span class="ident">get_images</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Return RGB images from each environment</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_images(self):
    &#34;&#34;&#34;
    Return RGB images from each environment
    &#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_viewer"><code class="name flex">
<span>def <span class="ident">get_viewer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_viewer(self):
    if self.viewer is None:
        from gym.envs.classic_control import rendering
        self.viewer = rendering.SimpleImageViewer()
    return self.viewer</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, mode='human')</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, mode=&#39;human&#39;):
    imgs = self.get_images()
    bigimg = tile_images(imgs)
    if mode == &#39;human&#39;:
        self.get_viewer().imshow(bigimg)
        return self.get_viewer().isopen
    elif mode == &#39;rgb_array&#39;:
        return bigimg
    else:
        raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.reset"><code class="name flex">
<span>def <span class="ident">reset</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Reset all the environments and return an array of
observations, or a dict of observation arrays.</p>
<p>If step_async is still doing work, that work will
be cancelled and step_wait() should not be called
until step_async() is invoked again.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def reset(self):
    &#34;&#34;&#34;
    Reset all the environments and return an array of
    observations, or a dict of observation arrays.

    If step_async is still doing work, that work will
    be cancelled and step_wait() should not be called
    until step_async() is invoked again.
    &#34;&#34;&#34;
    pass</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step"><code class="name flex">
<span>def <span class="ident">step</span></span>(<span>self, actions)</span>
</code></dt>
<dd>
<div class="desc"><p>Step the environments synchronously.</p>
<p>This is available for backwards compatibility.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def step(self, actions):
    &#34;&#34;&#34;
    Step the environments synchronously.

    This is available for backwards compatibility.
    &#34;&#34;&#34;
    self.step_async(actions)
    return self.step_wait()</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_async"><code class="name flex">
<span>def <span class="ident">step_async</span></span>(<span>self, actions)</span>
</code></dt>
<dd>
<div class="desc"><p>Tell all the environments to start taking a step
with the given actions.
Call step_wait() to get the results of the step.</p>
<p>You should not call this if a step_async run is
already pending.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def step_async(self, actions):
    &#34;&#34;&#34;
    Tell all the environments to start taking a step
    with the given actions.
    Call step_wait() to get the results of the step.

    You should not call this if a step_async run is
    already pending.
    &#34;&#34;&#34;
    pass</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_wait"><code class="name flex">
<span>def <span class="ident">step_wait</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Wait for the step taken with step_async().</p>
<p>Returns (obs, rews, dones, infos):
- obs: an array of observations, or a dict of
arrays of observations.
- rews: an array of rewards
- dones: an array of "episode done" booleans
- infos: a sequence of info objects</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def step_wait(self):
    &#34;&#34;&#34;
    Wait for the step taken with step_async().

    Returns (obs, rews, dones, infos):
     - obs: an array of observations, or a dict of
            arrays of observations.
     - rews: an array of rewards
     - dones: an array of &#34;episode done&#34; booleans
     - infos: a sequence of info objects
    &#34;&#34;&#34;
    pass</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper"><code class="flex name class">
<span>class <span class="ident">VecEnvObservationWrapper</span></span>
<span>(</span><span>venv, observation_space=None, action_space=None)</span>
</code></dt>
<dd>
<div class="desc"><p>An environment wrapper that applies to an entire batch
of environments at once.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class VecEnvObservationWrapper(VecEnvWrapper):
    @abstractmethod
    def process(self, obs):
        pass

    def reset(self):
        obs = self.venv.reset()
        return self.process(obs)

    def step_wait(self):
        obs, rews, dones, infos = self.venv.step_wait()
        return self.process(obs), rews, dones, infos</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper">VecEnvWrapper</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv">VecEnv</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_remove_dict_obs.VecExtractDictObs" href="vec_remove_dict_obs.html#TeachMyAgent.students.openai_baselines.common.vec_env.vec_remove_dict_obs.VecExtractDictObs">VecExtractDictObs</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper.process"><code class="name flex">
<span>def <span class="ident">process</span></span>(<span>self, obs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def process(self, obs):
    pass</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper">VecEnvWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.close_extras" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close_extras">close_extras</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.get_images" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_images">get_images</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.reset" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.reset">reset</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.step" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step">step</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.step_async" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_async">step_async</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.step_wait" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_wait">step_wait</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper"><code class="flex name class">
<span>class <span class="ident">VecEnvWrapper</span></span>
<span>(</span><span>venv, observation_space=None, action_space=None)</span>
</code></dt>
<dd>
<div class="desc"><p>An environment wrapper that applies to an entire batch
of environments at once.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class VecEnvWrapper(VecEnv):
    &#34;&#34;&#34;
    An environment wrapper that applies to an entire batch
    of environments at once.
    &#34;&#34;&#34;

    def __init__(self, venv, observation_space=None, action_space=None):
        self.venv = venv
        super().__init__(num_envs=venv.num_envs,
                        observation_space=observation_space or venv.observation_space,
                        action_space=action_space or venv.action_space)

    def step_async(self, actions):
        self.venv.step_async(actions)

    @abstractmethod
    def reset(self):
        pass

    @abstractmethod
    def step_wait(self):
        pass

    def close(self):
        return self.venv.close()

    def render(self, mode=&#39;human&#39;):
        return self.venv.render(mode=mode)

    def get_images(self):
        return self.venv.get_images()

    def __getattr__(self, name):
        if name.startswith(&#39;_&#39;):
            raise AttributeError(&#34;attempted to get missing private attribute &#39;{}&#39;&#34;.format(name))
        return getattr(self.venv, name)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv">VecEnv</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper">VecEnvObservationWrapper</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_frame_stack.VecFrameStack" href="vec_frame_stack.html#TeachMyAgent.students.openai_baselines.common.vec_env.vec_frame_stack.VecFrameStack">VecFrameStack</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_monitor.VecMonitor" href="vec_monitor.html#TeachMyAgent.students.openai_baselines.common.vec_env.vec_monitor.VecMonitor">VecMonitor</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_normalize.VecNormalize" href="vec_normalize.html#TeachMyAgent.students.openai_baselines.common.vec_env.vec_normalize.VecNormalize">VecNormalize</a></li>
<li><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_video_recorder.VecVideoRecorder" href="vec_video_recorder.html#TeachMyAgent.students.openai_baselines.common.vec_env.vec_video_recorder.VecVideoRecorder">VecVideoRecorder</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.close"><code class="name flex">
<span>def <span class="ident">close</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def close(self):
    return self.venv.close()</code></pre>
</details>
</dd>
<dt id="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, mode='human')</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, mode=&#39;human&#39;):
    return self.venv.render(mode=mode)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv">VecEnv</a></b></code>:
<ul class="hlist">
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close_extras" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close_extras">close_extras</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_images" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_images">get_images</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.reset" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.reset">reset</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step">step</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_async" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_async">step_async</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_wait" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_wait">step_wait</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<a href="http://developmentalsystems.org/TeachMyAgent/doc/">
<img src="https://github.com/flowersteam/TeachMyAgent/blob/gh-pages/images/home/head_image.png?raw=true" style="display: block; margin: 1em auto">
</a>
<a href="http://developmentalsystems.org/TeachMyAgent/doc/">Home</a> | <a href="http://developmentalsystems.org/TeachMyAgent/">Website</a>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env" href="index.html">TeachMyAgent.students.openai_baselines.common.vec_env</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.clear_mpi_env_vars" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.clear_mpi_env_vars">clear_mpi_env_vars</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.AlreadySteppingError" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.AlreadySteppingError">AlreadySteppingError</a></code></h4>
</li>
<li>
<h4><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.CloudpickleWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.CloudpickleWrapper">CloudpickleWrapper</a></code></h4>
</li>
<li>
<h4><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.NotSteppingError" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.NotSteppingError">NotSteppingError</a></code></h4>
</li>
<li>
<h4><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv">VecEnv</a></code></h4>
<ul class="two-column">
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close">close</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close_extras" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.close_extras">close_extras</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.closed" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.closed">closed</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_images" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_images">get_images</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_viewer" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.get_viewer">get_viewer</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.metadata" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.metadata">metadata</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.render" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.render">render</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.reset" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.reset">reset</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step">step</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_async" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_async">step_async</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_wait" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.step_wait">step_wait</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.unwrapped" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.unwrapped">unwrapped</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.viewer" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnv.viewer">viewer</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper">VecEnvObservationWrapper</a></code></h4>
<ul class="">
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper.process" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvObservationWrapper.process">process</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper">VecEnvWrapper</a></code></h4>
<ul class="">
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.close" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.close">close</a></code></li>
<li><code><a title="TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.render" href="#TeachMyAgent.students.openai_baselines.common.vec_env.vec_env.VecEnvWrapper.render">render</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>